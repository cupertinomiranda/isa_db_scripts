<% 
require 'rubygems'
load 'init.rb'

replacements = {
  none: '0',
  S: 'blabla'
}
%>

int 
get_value_for_relocation_type(enum BLA type)
{ 
  int value = 0
  switch(type) {
<% Relocation.each do |reloc| %>
    case <%= reloc.name %>:
      value = <%= reloc.calc.to_c(replacements) %>;
      break;
<% end %>
    default:
      assert(0);
  }
}
